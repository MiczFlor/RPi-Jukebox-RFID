<!-- markdownlint-disable -->

<a href="https://github.com/MiczFlor/RPi-Jukebox-RFID/tree/future3/develop/src/jukebox/src/jukebox/jukebox/playlistgenerator.py#L0"><img align="right" style="float:right;" src="https://img.shields.io/badge/-source-cccccc?style=flat-square"></a>

# <kbd>module</kbd> `jukebox.playlistgenerator`
Playlists are build from directory content in the following way: a directory is parsed and files are added to the playlist in the following way 

1. files are added in alphabetic order 2. files ending with ``*livestream.txt`` are unpacked and the containing URL(s) are added verbatim to the playlist 3. files ending with ``*podcast.txt`` are unpacked and the containing Podcast URL(s) are expanded and added to the playlist 4. files ending with ``*.m3u`` are treated as folder playlist. Regular folder processing is suspended and the playlist  is build solely from the ``*.m3u`` content. Only the alphabetically first ``*.m3u`` is processed. URLs are added verbatim  to the playlist except for ``*.xml`` and ``*.podcast`` URLS, which are expanded first 

An directory may contain a mixed set of files and multiple ``*.txt`` files, e.g. 

.. code-block:: bash 

 01-livestream.txt  02-livestream.txt  music.mp3  podcast.txt 

All files are treated as music files and are added to the playlist, except those: 

* starting with ``.``, * not having a file ending, i.e. do not contain a ``.``, * ending with ``.txt``, * ending with ``.m3u``, * ending with one of the excluded file endings in :attr:`PlaylistCollector._exclude_endings` 

In recursive mode, the playlist is generated by concatenating all sub-folder playlists. Sub-folders are parsed in alphabetic order. Symbolic links are being followed. The above rules are enforced on a per-folder bases. This means, one ``*.m3u`` file per sub-folder is processed (if present). 

In ``*.txt`` and ``*.m3u`` files, all lines starting with ``#`` are ignored. 

**Global Variables**
---------------
- **TYPE_FILE**
- **TYPE_DIR**
- **TYPE_STREAM**
- **TYPE_PODCAST**
- **TYPE_DECODE**

---

<a href="https://github.com/MiczFlor/RPi-Jukebox-RFID/tree/future3/develop/src/jukebox/src/jukebox/jukebox/playlistgenerator.py#L92"><img align="right" style="float:right;" src="https://img.shields.io/badge/-source-cccccc?style=flat-square"></a>

## <kbd>function</kbd> `decode_podcast_core`

```python
decode_podcast_core(url, playlist)
```






---

<a href="https://github.com/MiczFlor/RPi-Jukebox-RFID/tree/future3/develop/src/jukebox/src/jukebox/jukebox/playlistgenerator.py#L111"><img align="right" style="float:right;" src="https://img.shields.io/badge/-source-cccccc?style=flat-square"></a>

## <kbd>function</kbd> `decode_podcast`

```python
decode_podcast(filename: str, path, playlist)
```






---

<a href="https://github.com/MiczFlor/RPi-Jukebox-RFID/tree/future3/develop/src/jukebox/src/jukebox/jukebox/playlistgenerator.py#L120"><img align="right" style="float:right;" src="https://img.shields.io/badge/-source-cccccc?style=flat-square"></a>

## <kbd>function</kbd> `decode_livestream`

```python
decode_livestream(filename: DirEntry, path, playlist)
```






---

<a href="https://github.com/MiczFlor/RPi-Jukebox-RFID/tree/future3/develop/src/jukebox/src/jukebox/jukebox/playlistgenerator.py#L129"><img align="right" style="float:right;" src="https://img.shields.io/badge/-source-cccccc?style=flat-square"></a>

## <kbd>function</kbd> `decode_musicfile`

```python
decode_musicfile(filename: DirEntry, path, playlist)
```






---

<a href="https://github.com/MiczFlor/RPi-Jukebox-RFID/tree/future3/develop/src/jukebox/src/jukebox/jukebox/playlistgenerator.py#L133"><img align="right" style="float:right;" src="https://img.shields.io/badge/-source-cccccc?style=flat-square"></a>

## <kbd>function</kbd> `decode_m3u`

```python
decode_m3u(filename: DirEntry, path, playlist: List[PlaylistEntry])
```






---

<a href="https://github.com/MiczFlor/RPi-Jukebox-RFID/tree/future3/develop/src/jukebox/src/jukebox/jukebox/playlistgenerator.py#L73"><img align="right" style="float:right;" src="https://img.shields.io/badge/-source-cccccc?style=flat-square"></a>

## <kbd>class</kbd> `PlaylistEntry`




<a href="https://github.com/MiczFlor/RPi-Jukebox-RFID/tree/future3/develop/src/jukebox/src/jukebox/jukebox/playlistgenerator.py#L74"><img align="right" style="float:right;" src="https://img.shields.io/badge/-source-cccccc?style=flat-square"></a>

### <kbd>method</kbd> `__init__`

```python
__init__(filetype: int, name: str, path: str)
```






---

#### <kbd>property</kbd> filetype





---

#### <kbd>property</kbd> name





---

#### <kbd>property</kbd> path








---

<a href="https://github.com/MiczFlor/RPi-Jukebox-RFID/tree/future3/develop/src/jukebox/src/jukebox/jukebox/playlistgenerator.py#L151"><img align="right" style="float:right;" src="https://img.shields.io/badge/-source-cccccc?style=flat-square"></a>

## <kbd>class</kbd> `PlaylistCollector`
Build a playlist from directory(s) 

This class is intended to be used with an absolute path to the music library:
``` 

     plc = PlaylistCollector('/home/chris/music')      plc.parse('Traumfaenger')      print(f"res = {plc}") 

But it can also be used with relative paths from current working directory:
``` 

     plc = PlaylistCollector('.')      plc.parse('../../../../music/Traumfaenger')      print(f"res = {plc}") 

```
The file ending exclusion list :attr:`PlaylistCollector._exclude_endings` is a class variable for performance reasons. If changed it will affect all instances. For modifications always call :func:`set_exclusion_endings`. 

<a href="https://github.com/MiczFlor/RPi-Jukebox-RFID/tree/future3/develop/src/jukebox/src/jukebox/jukebox/playlistgenerator.py#L186"><img align="right" style="float:right;" src="https://img.shields.io/badge/-source-cccccc?style=flat-square"></a>

### <kbd>method</kbd> `__init__`

```python
__init__(music_library_base_path='/')
```

Initialize the playlist generator with music_library_base_path 

:param music_library_base_path: Base path the the music library. This is used to locate the file in the disk but is omitted when generating the playlist entries. I.e. all files in the playlist are relative to this base dir 




---

<a href="https://github.com/MiczFlor/RPi-Jukebox-RFID/tree/future3/develop/src/jukebox/src/jukebox/jukebox/playlistgenerator.py#L263"><img align="right" style="float:right;" src="https://img.shields.io/badge/-source-cccccc?style=flat-square"></a>

### <kbd>method</kbd> `get_directory_content`

```python
get_directory_content(path='.')
```

Parse the folder ``path`` and create a content list. Depth is always the current level 

:param path: Path to folder **relative** to ``music_library_base_path`` :return: [ { type: 'directory', name: 'Simone', path: '/some/path/to/Simone' }, {...} ]  where type is one of :attr:`TYPE_DECODE` 

---

<a href="https://github.com/MiczFlor/RPi-Jukebox-RFID/tree/future3/develop/src/jukebox/src/jukebox/jukebox/playlistgenerator.py#L298"><img align="right" style="float:right;" src="https://img.shields.io/badge/-source-cccccc?style=flat-square"></a>

### <kbd>method</kbd> `parse`

```python
parse(path='.', recursive=False)
```

Parse the folder ``path`` and create a playlist from it's content 

:param path: Path to folder **relative** to ``music_library_base_path`` :param recursive: Parse folder recursivley, or stay in top-level folder 

---

<a href="https://github.com/MiczFlor/RPi-Jukebox-RFID/tree/future3/develop/src/jukebox/src/jukebox/jukebox/playlistgenerator.py#L217"><img align="right" style="float:right;" src="https://img.shields.io/badge/-source-cccccc?style=flat-square"></a>

### <kbd>classmethod</kbd> `set_exclusion_endings`

```python
set_exclusion_endings(endings: List[str])
```

Set the class-wide file ending exclusion list 

See :attr:`PlaylistCollector._exclude_endings` 




---

_This file was automatically generated via [lazydocs](https://github.com/ml-tooling/lazydocs)._
